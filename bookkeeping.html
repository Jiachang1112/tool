<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç°¡å–®è¨˜å¸³è»Ÿé«”</title>
    <style>
        body { font-family: Arial, sans-serif; max-width: 800px; margin: 20px auto; padding: 20px; background: #f5f5f5; }
        h1 { color: #333; text-align: center; }
        form { background: white; padding: 20px; border-radius: 8px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); margin-bottom: 20px; }
        input, select, button { padding: 10px; margin: 5px; border: 1px solid #ddd; border-radius: 4px; }
        button { background: #4CAF50; color: white; cursor: pointer; }
        button:hover { background: #45a049; }
        #records { background: white; padding: 20px; border-radius: 8px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); }
        .record { display: flex; justify-content: space-between; padding: 10px; border-bottom: 1px solid #eee; }
        .delete { background: #f44336; color: white; border: none; padding: 5px 10px; cursor: pointer; border-radius: 4px; }
        .total { font-size: 1.2em; font-weight: bold; text-align: center; margin-top: 20px; }
        .income { color: green; }
        .expense { color: red; }
    </style>
</head>
<body>
    <h1>ğŸ’° æˆ‘çš„è¨˜å¸³è»Ÿé«”</h1>
    
    <form id="form">
        <input type="date" id="date" required>
        <input type="number" id="amount" placeholder="é‡‘é¡" step="0.01" required>
        <input type="text" id="category" placeholder="é¡åˆ¥ï¼ˆå¦‚ï¼šé£Ÿç‰©ï¼‰" required>
        <select id="type">
            <option value="income">æ”¶å…¥</option>
            <option value="expense">æ”¯å‡º</option>
        </select>
        <button type="submit">æ–°å¢è¨˜éŒ„</button>
    </form>
    
    <div id="records"></div>
    <div id="total" class="total">ç¸½æ”¶å…¥: 0 | ç¸½æ”¯å‡º: 0 | é¤˜é¡: 0</div>

    <script>
        let records = JSON.parse(localStorage.getItem('records')) || [];
        
        function render() {
            const recordsDiv = document.getElementById('records');
            recordsDiv.innerHTML = '';
            let income = 0, expense = 0;
            
            records.forEach((record, index) => {
                const div = document.createElement('div');
                div.className = 'record';
                div.innerHTML = `
                    <span>${record.date} - ${record.category}: <span class="${record.type}">${record.amount}</span></span>
                    <button class="delete" onclick="deleteRecord(${index})">åˆªé™¤</button>
                `;
                recordsDiv.appendChild(div);
                
                if (record.type === 'income') income += parseFloat(record.amount);
                else expense += parseFloat(record.amount);
            });
            
            document.getElementById('total').textContent = 
                `ç¸½æ”¶å…¥: ${income} | ç¸½æ”¯å‡º: ${expense} | é¤˜é¡: ${income - expense}`;
            localStorage.setItem('records', JSON.stringify(records));
        }
        
        document.getElementById('form').addEventListener('submit', (e) => {
            e.preventDefault();
            const record = {
                date: document.getElementById('date').value,
                amount: document.getElementById('amount').value,
                category: document.getElementById('category').value,
                type: document.getElementById('type').value
            };
            records.unshift(record);
            render();
            e.target.reset();
        });
        
        function deleteRecord(index) {
            records.splice(index, 1);
            render();
        }
        
        render(); // åˆå§‹æ¸²æŸ“
    </script>
</body>
</html>
