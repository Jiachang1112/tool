<!doctype html><html lang="zh-Hant"><head><meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Markdown 預覽器</title>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css">
<style>
:root{--bg:#0b1020;--card:#121a32;--ink:#dfe7ff;--muted:#a9b4d0;--line:#223055;--brand:#5B8CFF;--radius:16px;--shadow:0 6px 24px rgba(0,0,0,.25);--fz:16px;--mono:ui-monospace,Consolas,monospace;--sans:system-ui,-apple-system,"Segoe UI","Noto Sans TC","PingFang TC","Microsoft JhengHei",sans-serif}
[data-theme="light"]{--bg:#f7f9ff;--card:#fff;--ink:#0a1433;--muted:#4b5567;--line:#e6ecff;--brand:#3b73ff}
*{box-sizing:border-box}body{margin:0;background:var(--bg);color:var(--ink);font:var(--fz)/1.6 var(--sans)}
.container{max-width:1100px;margin:0 auto;padding:20px}
.head{display:flex;gap:10px;align-items:center;justify-content:space-between;position:sticky;top:0;padding:10px 0 14px;background:linear-gradient(#0000, #0000),var(--bg);z-index:10}
.btn{border:1px solid var(--line);background:var(--card);color:var(--ink);border-radius:12px;padding:8px 12px;cursor:pointer}
.btn:hover{border-color:var(--brand)}
.grid{display:grid;gap:14px;grid-template-columns:1fr 1fr}
.card{background:var(--card);border:1px solid var(--line);border-radius:var(--radius);padding:14px;box-shadow:var(--shadow)}
textarea{width:100%;height:66vh;border:1px solid var(--line);border-radius:12px;background:#0d1736;color:var(--ink);padding:12px;font:14px/1.5 var(--mono)}
[data-theme="light"] textarea{background:#f2f6ff}
.preview{height:66vh;overflow:auto;border:1px solid var(--line);border-radius:12px;padding:18px}
.preview pre{background:rgba(255,255,255,.06);padding:10px;border-radius:10px;overflow:auto}
.mini{color:var(--muted);font-size:12px}
.title{display:flex;gap:8px;align-items:center;font-weight:800}
</style>
</head><body>
<div class="container">
  <div class="head">
    <div class="title"><i class="bi bi-markdown" style="color:var(--brand)"></i>Markdown 預覽器</div>
    <div style="display:flex;gap:8px">
      <button class="btn" id="btn-theme"><i class="bi bi-moon-stars"></i></button>
      <button class="btn" id="btn-export"><i class="bi bi-filetype-html"></i> 匯出 HTML</button>
    </div>
  </div>
  <div class="grid">
    <div class="card">
      <div class="mini" style="margin-bottom:6px">支援 **粗體**、`code`、表格、列表、連結、圖片（貼網址）。</div>
      <textarea id="md-in" placeholder="# Hello\n\n- 這是你的 Markdown 預覽器\n- 文字會即時渲染在右邊"></textarea>
    </div>
    <div class="card"><div id="md-out" class="preview"></div></div>
  </div>
</div>
<script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/dompurify@3.1.7/dist/purify.min.js"></script>
<script>
const $=s=>document.querySelector(s); const theme=localStorage.getItem('md_theme')||'dark';
document.documentElement.dataset.theme=theme; $('#btn-theme').onclick=()=>{const t=document.documentElement.dataset.theme==='dark'?'light':'dark';document.documentElement.dataset.theme=t;localStorage.setItem('md_theme',t);}
function render(){ const raw=$('#md-in').value||''; $('#md-out').innerHTML=DOMPurify.sanitize(marked.parse(raw)); }
$('#md-in').addEventListener('input',render); render();
$('#btn-export').onclick=()=>{
  const html=`<!doctype html><meta charset="utf-8"><title>Markdown Export</title><style>
  body{max-width:760px;margin:40px auto;font:16px/1.7 system-ui;color:#0a1433}
  pre{background:#f6f8fa;padding:12px;border-radius:8px;overflow:auto}
  code{font-family:ui-monospace,Consolas,monospace}
  </style><article>${DOMPurify.sanitize(marked.parse($('#md-in').value||''))}</article>`;
  const a=document.createElement('a'); a.href=URL.createObjectURL(new Blob([html],{type:'text/html'})); a.download='markdown.html'; a.click();
};
</script>
</body></html>
